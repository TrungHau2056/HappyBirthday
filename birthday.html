<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <link rel="shortcut icon" type="image/png" href="img/favicon.png" />
  <title>Happy Birthday!!! :)</title>
  <!-- Google Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400&family=Pacifico&family=Lobster&display=swap" rel="stylesheet">
  <!-- My Style -->
    <link rel="stylesheet" href="./style/main.css?v=20250906" />
    
</head>

<body class="clean minimal-start">

        <!-- Rotate tip for portrait mobile devices -->
        <div class="rotate-tip" role="dialog" aria-hidden="true">
            <div class="box">
                <h3 style="margin:0 0 .5rem; font-size:1.2rem;">Quay m√°y sang ngang ƒë·ªÉ xem t·ªët h∆°n</h3>
                <p style="margin:0; opacity:0.9;">Vui l√≤ng xoay m√†n h√¨nh sang ch·∫ø ƒë·ªô ngang (landscape) ƒë·ªÉ tr·∫£i nghi·ªám t·ªët nh·∫•t.</p>
            </div>
        </div>

        <!-- Site background image (subtle, animated) -->
        <div class="site-bg" aria-hidden="true"></div>

    <audio id="bgMusic" class="song" loop autoplay>
        <source src="./music/Couch Potato.mp3" type="audio/mp3">
        Your browser isn't invited for super fun audio time.
      </audio>
      
    <!-- floating photos as background layer -->
    <div class="floating-gallery" aria-hidden="true">
        <img src="img/1.jpg" class="floating-photo" alt="·∫¢nh 1" />
        <img src="img/2.jpg" class="floating-photo" alt="·∫¢nh 2" />
        <img src="img/3.jpg" class="floating-photo" alt="·∫¢nh 3" />
        <img src="img/4.jpg" class="floating-photo" alt="·∫¢nh 4" />
        <img src="img/5.jpg" class="floating-photo" alt="·∫¢nh 5" />
        <img src="img/6.jpg" class="floating-photo" alt="·∫¢nh 6" />
        <img src="img/7.jpg" class="floating-photo" alt="·∫¢nh 7" />
        <img src="img/8.jpg" class="floating-photo" alt="·∫¢nh 8" />
        <img src="img/9.jpg" class="floating-photo" alt="·∫¢nh 9" />
        <img src="img/10.jpg" class="floating-photo" alt="·∫¢nh 10" />
        <img src="img/11.jpg" class="floating-photo" alt="·∫¢nh 11" />

    </div>

    <div class="container">
                <div class="one">
            <h1 class="one" style="margin: 0; line-height: 1.1; font-size: 5rem; font-weight: 800; color: #e75480;">
                HAPPY BIRTHDAY
            </h1>
            <h2 style="margin: 0.2em 0 0.5em 0; font-size: 3.2rem; font-weight: 800; color: #ff69b4;">
                Tr·∫ßn H·∫£i Y·∫øn
            </h2>
            <h3 class="wish-hbd letters-bounce" id="wishHbd" style="font-family: 'Poppins', sans-serif; font-weight: 800; letter-spacing: -0.02em; color: #e75480; font-size: 1.8em; margin: 0 auto; white-space: normal; text-align: center; max-width: 100%; text-shadow: 0 2px 8px rgba(231,84,128,0.18), 0 1px 0 #fff;">Sinh nh·∫≠t vui b√° ch√°y, Y·∫øn!</h3>
                </div>

        <div class="two">
            <p id="greetingText" style="font-family: 'Poppins', sans-serif; font-weight: 500; color: #ff69b4; font-size: 1.25em; line-height:1.6; margin-top: 0.25em;">
                <span style="font-size:0.9em; display:block;">Tu·ªïi m·ªõi c·ªßa Y·∫øn ch√≠nh th·ª©c n√¢ng c·∫•p b·∫£n Pro Max: nƒÉng l∆∞·ª£ng 200%, may m·∫Øn +10, n·ª• c∆∞·ªùi kh√¥ng gi·ªõi h·∫°n.</span>
                <span style="font-size:0.9em; display:block;">Vi·ªác vui th√¨ x·∫øp h√†ng s·∫µn, vi·ªác bu·ªìn cho v√†o ch·∫ø ƒë·ªô im l·∫∑ng; m·ªói s√°ng m·ªü m·∫Øt l√† th·∫•y ph·∫ßn th∆∞·ªüng ng√†y ƒëang ch·ªù.</span>
                <br><span style="font-size:0.95em; color:#888;">(Sinh nh·∫≠t: 07/09/2005)</span>
            </p>
        </div>

        <div class="three">
            <p>H√¥m nay Y·∫øn ƒë∆∞·ª£c ph√©p qu·∫≠y h·ª£p ph√°p: c∆∞·ªùi th·∫≠t to, ƒÉn b√°nh th·∫≠t ngon, c√≤n vi·ªác mai h·∫µng t√≠nh!</p>
        </div>

        <div class="four">
            <div class="text-box" style="background: rgba(255,255,255,0.95); border-radius: 14px; padding: 14px 18px; box-shadow: 0 8px 24px rgba(0,0,0,0.12); display: inline-block; border: 1px solid rgba(0,0,0,0.06);">
                <p class="hbd-chatbox fx-caret" style="font-family: 'Poppins', sans-serif; font-weight: 600; color: #e75480; font-size: 1.1em; line-height:1.5;">
                Checklist sinh nh·∫≠t h√¥m nay:<br>
                ‚Äì H√£y chu·∫©n b·ªã m·ªôt tinh th·∫ßn th·∫≠t tho·∫£i m√°i v√† vui t∆∞∆°i ƒë·∫øn ƒë√≥n sinh nh·∫≠t c√πng ae nh√©.<br>
                ‚Äì H√¥m nay ƒëi ƒÉn t·ªëi c√πng nhau<br>
                ‚Äì Th∆∞·ªüng th·ª©c b√°nh sinh nh·∫≠t th√∫ v·ªã<br>
                ‚Äì Ch·ª•p ·∫£nh th·∫≠t xinh ƒë·ªÉ l∆∞u tr·ªØ tu·ªïi 20 r·ª±c r·ª° n√†y c√πng b·ªçn kao.<br>
                K·∫øt lu·∫≠n: vui h·∫øt ga, ph·∫ßn c√≤n l·∫°i ƒë·ªÉ v≈© tr·ª• lo. üéÇüéâ
                </p>
                
            </div>
        </div>

        <!-- Funny mini scenes -->
        <div class="gag gag-1" aria-hidden="true">
            <div class="gag-card">
                <div class="gag-title">B·∫£ng ƒëi·ªÉm sinh nh·∫≠t</div>
                <ul class="gag-list">
                    <li>ƒê·ªô xinh: 10/10 ‚úÖ</li>
                    <li>M·ª©c ƒë·ªô vui: 100/100 üéâ</li>
                    <li>NƒÉng l∆∞·ª£ng: 200% ‚ö°</li>
                </ul>
            </div>
        </div>

        <div class="gag gag-2" aria-hidden="true">
            <div class="gag-card">
                <div class="gag-title">B·ªëc thƒÉm ph·∫ßn th∆∞·ªüng</div>
                <p>Ph·∫ßn th∆∞·ªüng h√¥m nay: <strong class="slot">???</strong></p>
            </div>
        </div>

        <div class="gag gag-3" aria-hidden="true">
            <div class="gag-card">
                <div class="gag-title">Th√¥ng b√°o c·ªßa v≈© tr·ª•</div>
                <div class="badges">
                    <span class="badge">C∆∞·ªùi nhi·ªÅu</span>
                    <span class="badge">Vui n√®</span>
                    <span class="badge">Kh√¥ng lo</span>
                </div>
            </div>
        </div>

        <div class="five">
            <p class="idea-1">That's what I was going to do.</p>
            <p class="idea-2">But then I stopped.</p>
            <p class="idea-3">
                I realised, I wanted to do something<br>
                <strong>special</strong>
                .
            </p>
            <p class="idea-4">Because</p>
            <p class="idea-5">
                You are Special
                <span>:)</span>
            </p>
            <p class="idea-6">
                <span>S</span>
                <span>O</span>
            </p>
        </div>

        <div class="six">
            <div class="gallery-main">
                <img src="img/image.jpg" alt="profile" class="profile-picture" id="imagePath" loading="eager"/>
                <div class="photo-badges" aria-hidden="true">
                    <span class="photo-chip chip-left">Nh√¢n v·∫≠t ch√≠nh n√® ‚ú®</span>
                    <span class="photo-chip chip-right">Hello tu·ªïi m·ªõi üëã</span>
                </div>
                <div class="photo-caption">Y·∫øn xu·∫•t hi·ªán r·ªìi n√® ‚Äî r·∫°ng r·ª° v√† xinh t∆∞∆°i.</div>
                <div class="gallery-photos">
                </div>
            </div>
        </div>
        <div class="wish">
                <h5 id="wishText" style="font-family: 'Poppins', sans-serif; font-weight: 500; color: #ff69b4; font-size: 1.05em;">Ch√∫c Y·∫øn kh·ªèe ‚Äì vui ‚Äì t·ª± do l√†m ƒëi·ªÅu m√¨nh th√≠ch; n·∫øu c√≥ l∆∞·ªùi th√¨ c≈©ng l∆∞·ªùi cho ch·∫•t, mi·ªÖn l√† h·∫°nh ph√∫c v√† b√¨nh an.</h5>
            </div>
        </div>

        <div class="seven">
            <div class="baloons">
                <img src="img/ballon2.svg" alt="" />
                <img src="img/ballon1.svg" alt="" />
                <img src="img/ballon3.svg" alt="" />
                <img src="img/ballon1.svg" alt="" />
                <img src="img/ballon2.svg" alt="" />
                <img src="img/ballon3.svg" alt="" />
                <img src="img/ballon2.svg" alt="" />
                <img src="img/ballon3.svg" alt="" />
                <img src="img/ballon1.svg" alt="" />
                <img src="img/ballon2.svg" alt="" />
                <img src="img/ballon3.svg" alt="" />
                <img src="img/ballon2.svg" alt="" />
                <img src="img/ballon1.svg" alt="" />
                <img src="img/ballon3.svg" alt="" />
                <img src="img/ballon2.svg" alt="" />
                <img src="img/ballon3.svg" alt="" />
                <img src="img/ballon1.svg" alt="" />
                <img src="img/ballon2.svg" alt="" />
                <img src="img/ballon1.svg" alt="" />
                <img src="img/ballon3.svg" alt="" />
                <img src="img/ballon3.svg" alt="" />
                <img src="img/ballon1.svg" alt="" />
                <img src="img/ballon2.svg" alt="" />
                <img src="img/ballon3.svg" alt="" />
                <img src="img/ballon2.svg" alt="" />
                <img src="img/ballon1.svg" alt="" />
                <img src="img/ballon3.svg" alt="" />
                <img src="img/ballon2.svg" alt="" />
                <img src="img/ballon3.svg" alt="" />
                <img src="img/ballon1.svg" alt="" />
                <img src="img/ballon2.svg" alt="" />
                <img src="img/ballon1.svg" alt="" />
                <img src="img/ballon3.svg" alt="" />
            </div>
        </div>

        <div class="eight">
            <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
                <circle cx="20" cy="20" r="20" />
            </svg>
            <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
                <circle cx="20" cy="20" r="20" />
            </svg>
            <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
                <circle cx="20" cy="20" r="20" />
            </svg>
            <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
                <circle cx="20" cy="20" r="20" />
            </svg>
            <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
                <circle cx="20" cy="20" r="20" />
            </svg>
            <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
                <circle cx="20" cy="20" r="20" />
            </svg>
            <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
                <circle cx="20" cy="20" r="20" />
            </svg>
            <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
                <circle cx="20" cy="20" r="20" />
            </svg>
            <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
                <circle cx="20" cy="20" r="20" />
            </svg>
        </div>

                <div class="nine">
                        <p>B·∫°n ƒë√£ xem xong r·ªìi ‚Äî hy v·ªçng Y·∫øn th√≠ch m√≥n qu√† nh·ªè n√†y.</p>
                        <p id="replay">
                                <a href="surprise.html" style="color: #c23d7a; text-decoration: underline;">Nh·∫•n v√†o ƒë√¢y ƒë·ªÉ nh·∫≠n m√≥n qu√† b·∫•t ng·ªù.</a>
                            </p>
                        <p class="last-smile">Ch√∫c b·∫°n m·ªôt ng√†y th·∫≠t tuy·ªát v·ªùi! üéà</p>
                </div>
    </div>
    
    <script>
        const bgMusic = document.getElementById("bgMusic");
        bgMusic.volume = 0.1; // Set the volume (0 = silent, 1 = full volume)
      </script>
            <script>
                // Ensure .container fits within one viewport by scaling when necessary
                    (function(){
                        const container = document.querySelector('.container');
                        const rotateTip = document.querySelector('.rotate-tip');
                        if(!container) return;

                        // Reference logical CSS size for iPhone 14 Pro Max in landscape (approx)
                        const IPHONE14_LANDSCAPE = { w: 932, h: 430 };

                        function isLikelyPhone() {
                            // simple checks: touch-capable or narrow viewport
                            return ('ontouchstart' in window) || Math.max(window.innerWidth, window.innerHeight) <= 1100;
                        }

                        function updateRotateTip() {
                            if(!rotateTip) return;
                            // show tip when device is in portrait (height > width)
                            if(window.innerHeight > window.innerWidth) {
                                rotateTip.setAttribute('aria-hidden', 'false');
                                rotateTip.style.display = 'flex';
                            } else {
                                rotateTip.setAttribute('aria-hidden', 'true');
                                rotateTip.style.display = 'none';
                            }
                        }

                        function fit() {
                            // reset transform
                            container.style.transform = '';
                            const rect = container.getBoundingClientRect();

                            // If on a phone or small device, prefer to fit to an iPhone14ProMax-landscape reference
                            if(isLikelyPhone()) {
                                // use the larger of actual content and the reference as target
                                const targetW = Math.max(rect.width, IPHONE14_LANDSCAPE.w);
                                const targetH = Math.max(rect.height, IPHONE14_LANDSCAPE.h);
                                // compute scale to fit that target into the available viewport
                                const scale = Math.min(window.innerWidth / targetW, window.innerHeight / targetH, 1);
                                if(scale < 1) {
                                    container.style.transform = `scale(${scale})`;
                                    container.style.transformOrigin = 'top left';
                                }
                            } else {
                                // Desktop/tablet: only scale down vertically if content overflows viewport height
                                const rectH = rect.height;
                                const vwH = window.innerHeight;
                                if(rectH > vwH) {
                                    const scale = Math.max(0.6, vwH / rectH);
                                    container.style.transform = `scale(${scale})`;
                                    container.style.transformOrigin = 'top left';
                                }
                            }
                        }

                        window.addEventListener('resize', () => { updateRotateTip(); fit(); });
                        window.addEventListener('orientationchange', () => { updateRotateTip(); setTimeout(fit, 80); });
                        // run after images/fonts load
                        window.addEventListener('load', () => { updateRotateTip(); setTimeout(fit, 120); });
                        // also attempt early
                        setTimeout(() => { updateRotateTip(); fit(); }, 300);
                    })();
            </script>
      
</body>
        <!-- Greensock -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js"></script>
        <!-- Sweetalert -->
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script type="application/javascript" src="./script/main.js?v=20250906"></script>
        
        <script>
        // Hi·ªáu ·ª©ng chuy·ªÉn ƒë·ªông linh ho·∫°t cho c√°c ·∫£nh (gi·ªØ trong khung h√¨nh)
        document.addEventListener('DOMContentLoaded', function() {
            const photos = document.querySelectorAll('.floating-photo');
            const margin = 8; // kho·∫£ng c√°ch an to√†n v·ªõi m√©p khung h√¨nh

            // K√≠ch th∆∞·ªõc khung h√¨nh hi·ªán t·∫°i (viewport)
            let vw = window.innerWidth;
            let vh = window.innerHeight;

            function updateViewport() {
                vw = window.innerWidth;
                vh = window.innerHeight;
            }

            function clamp(val, min, max) { return Math.max(min, Math.min(max, val)); }

            function placeInside(img) {
                const w = parseFloat(img.dataset.w) || img.offsetWidth || 100;
                const h = parseFloat(img.dataset.h) || img.offsetHeight || 100;
                const left = clamp(parseFloat(img.style.left) || Math.random() * (vw - w - margin*2) + margin, margin, Math.max(margin, vw - w - margin));
                const top = clamp(parseFloat(img.style.top) || Math.random() * (vh - h - margin*2) + margin, margin, Math.max(margin, vh - h - margin));
                img.style.left = left + 'px';
                img.style.top = top + 'px';
            }

            photos.forEach((img) => {
                img.style.position = 'fixed';
                img.style.borderRadius = '12px';
                img.style.zIndex = 0;
                img.style.boxShadow = '0 4px 16px rgba(255, 105, 180, 0.15)';
                img.onload = () => {
                    const naturalW = img.naturalWidth;
                    const naturalH = img.naturalHeight;
                    const ratio = naturalW / naturalH || 1;
                    const maxDim = (vw < 600 ? 90 : 140) * 1.5;
                    let w = naturalW;
                    let h = naturalH;
                    if (w > maxDim) { w = maxDim; h = Math.round(w / ratio); }
                    if (h > maxDim) { h = maxDim; w = Math.round(h * ratio); }
                    img.style.width = w + 'px';
                    img.style.height = h + 'px';
                    img.dataset.w = w;
                    img.dataset.h = h;
                    placeInside(img);
                };
                if (img.complete) img.onload();
            });

            // V·∫≠n t·ªëc theo tr·ª•c X, Y cho t·ª´ng ·∫£nh (·ªïn ƒë·ªãnh, kh√¥ng ng·∫´u nhi√™n m·ªói frame)
            const vel = Array.from({ length: photos.length }, () => ({
                dx: (Math.random() > 0.5 ? 1 : -1) * (0.6 + Math.random() * 1.6),
                dy: (Math.random() > 0.5 ? 1 : -1) * (0.6 + Math.random() * 1.6)
            }));

            function tick() {
                // c·∫≠p nh·∫≠t khung h√¨nh m·ªói frame ƒë·ªÉ lu√¥n ƒë√∫ng khi resize/thanh tr√¨nh duy·ªát thay ƒë·ªïi
                updateViewport();
                photos.forEach((img, i) => {
                    let left = parseFloat(img.style.left) || 0;
                    let top = parseFloat(img.style.top) || 0;
                    const w = parseFloat(img.dataset.w) || img.offsetWidth || 100;
                    const h = parseFloat(img.dataset.h) || img.offsetHeight || 100;
                    let { dx, dy } = vel[i];

                    // Ki·ªÉm tra va ch·∫°m m√©p v√† ƒë·∫£o chi·ªÅu
                    if (left + dx < margin || left + dx > (vw - w - margin)) { vel[i].dx = dx = -dx; }
                    if (top + dy < margin || top + dy > (vh - h - margin)) { vel[i].dy = dy = -dy; }

                    left = clamp(left + dx, margin, Math.max(margin, vw - w - margin));
                    top = clamp(top + dy, margin, Math.max(margin, vh - h - margin));
                    img.style.left = left + 'px';
                    img.style.top = top + 'px';
                });
                requestAnimationFrame(tick);
            }
            requestAnimationFrame(tick);

            // Khi resize/orientation change, c·∫≠p nh·∫≠t l·∫°i viewport v√† √©p c√°c ·∫£nh v·ªÅ trong khung
            window.addEventListener('resize', () => {
                updateViewport();
                photos.forEach(placeInside);
            });
            window.addEventListener('orientationchange', () => {
                setTimeout(() => { updateViewport(); photos.forEach(placeInside); }, 80);
            });
        });
        </script>

                <script>
                // T√°ch ch·ªØ ·ªü d√≤ng ch√∫c th√†nh t·ª´ng k√Ω t·ª± ƒë·ªÉ t∆∞∆°ng t√°c bounce
                (function(){
                    const el = document.getElementById('wishHbd');
                    if (!el) return;
                    const text = el.textContent;
                    el.textContent = '';
                    for (const ch of text) {
                        const span = document.createElement('span');
                        span.className = 'letter';
                        span.textContent = ch;
                        span.addEventListener('click', () => {
                            span.classList.remove('pop');
                            span.offsetHeight; // force reflow
                            span.classList.add('pop');
                        });
                        el.appendChild(span);
                    }
                    el.classList.add('letters-bounce');
                })();
                </script>

</html>
